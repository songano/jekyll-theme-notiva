<!-- Meta tags -->
<meta charset="UTF-8">
<meta
  name="viewport"
  content="width=device-width, user-scalable=no initial-scale=1, shrink-to-fit=no, viewport-fit=cover"
>

<!-- Preconnect to external domains -->
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
{% if site.firebase.enable %}
  <link rel="preconnect" href="https://firebaseinstallations.googleapis.com" crossorigin>
  <link rel="preconnect" href="https://firebaseremoteconfig.googleapis.com" crossorigin>
{% endif %}
{% if site.analytics.provider == 'google-gtag' or site.analytics.provider == 'google' %}
  <link rel="preconnect" href="https://www.google-analytics.com" crossorigin>
{% endif %}

<!-- SEO and metadata -->
{% include head/metadata.html %}
{% include head/json-ld.html %}

<!-- Favicon -->
{% include head/favicon.html %}

<!-- Preload critical fonts -->
{% for font in site.data.cdn.fonts %}
  <link rel="preload" href="{{ font.url }}" as="font" type="font/{{ font.type }}" crossorigin>
{% endfor %}

<!-- Critical CSS -->
<link rel="stylesheet" href="{{ '/assets/dist/css/styles.min.css' | relative_url }}">

<!-- Non-critical resources (fonts and icons) with media="print" trick for async loading -->
{% for font in site.data.cdn.fonts %}
  <link rel="stylesheet" href="{{ font.url }}" media="print" onload="this.media='all'">
{% endfor %}
{% for icon in site.data.cdn.icons %}
  <link rel="stylesheet" href="{{ icon.url }}" media="print" onload="this.media='all'">
{% endfor %}

<!-- Alternate links -->
<link rel="canonical" href="{{ page.url | absolute_url }}">
<link rel="alternate" type="application/atom+xml" title="{{ site.title }}" href="{{ '/feed.xml' | absolute_url }}">

<!-- Site verification -->
{% if site.verification.google -%}
  <meta name="google-site-verification" content="{{ site.verification.google }}">
{%- endif %}
{% if site.verification.bing %}<meta name="msvalidate.01" content="{{ site.verification.bing }}">{% endif %}
{% if site.verification.yandex %}<meta name="yandex-verification" content="{{ site.verification.yandex }}">{% endif %}
{% if site.verification.naver %}<meta name="naver-site-verification" content="{{ site.verification.naver }}">{% endif %}
{% if site.verification.pinterest %}<meta name="p:domain_verify" content="{{ site.verification.pinterest }}">{% endif %}
{% if site.verification.facebook -%}
  <meta name="facebook-domain-verification" content="{{ site.verification.facebook }}">
{%- endif %}
{% if site.verification.baidu %}<meta name="baidu-site-verification" content="{{ site.verification.baidu }}">{% endif %}

<!-- PWA support -->
{% if site.pwa.enable %}
  <link rel="manifest" href="{{ '/assets/dist/manifest.webmanifest' | relative_url }}">
  <meta name="theme-color" content="{{ site.pwa.manifest.theme_color | default: '#252627' }}">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
{% endif %}
